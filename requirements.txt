# ============================================================================
# 多交易所策略自动化系统 - Python 依赖包
# ============================================================================

# ────────────────────────────────────────────────────────────────────────────
# 🏛️ 核心框架 (Core Framework)
# ────────────────────────────────────────────────────────────────────────────
fastapi==0.104.1              # API 框架
uvicorn==0.24.0               # ASGI 服务器
pydantic==2.5.0               # 数据验证和序列化
pydantic-settings==2.1.0      # Pydantic 配置管理
injector==0.21.0              # 依赖注入容器

# ────────────────────────────────────────────────────────────────────────────
# 🔄 异步和网络 (Async & Networking)
# ────────────────────────────────────────────────────────────────────────────
asyncio                       # 异步编程（Python 内置）
aiohttp==3.9.1                # 异步 HTTP 客户端（稳定版本）
websockets==12.0              # WebSocket 客户端/服务器
websocket-client==1.6.4       # 同步 WebSocket 客户端（某些库需要）

# ────────────────────────────────────────────────────────────────────────────
# 🔗 交易所适配器 (Exchange Adapters)
# ────────────────────────────────────────────────────────────────────────────
ccxt==4.4.30                  # 通用交易所库（Binance, OKX, Hyperliquid 等）✅ 稳定版本
                              # 注意: Hyperliquid 需要 ccxt >= 4.4.x

# Lighter SDK（从 GitHub 安装）
git+https://github.com/elliottech/lighter-python.git

# Hyperliquid 原生 SDK（可选，用于原生实现）
hyperliquid-python-sdk        # Hyperliquid 官方 Python SDK
httpx==0.25.2                 # HTTP 客户端（Hyperliquid 原生实现需要）

# Hyperliquid/Lighter 签名依赖
eth-account==0.10.0           # 以太坊账户管理和签名
eth-typing==3.5.2             # 以太坊类型定义
eth-utils==2.3.1              # 以太坊工具函数

# ────────────────────────────────────────────────────────────────────────────
# 📊 数据处理 (Data Processing)
# ────────────────────────────────────────────────────────────────────────────
pandas==2.1.3                 # 数据分析
numpy==1.24.3                 # 数值计算

# ────────────────────────────────────────────────────────────────────────────
# 🖥️ 终端 UI (Terminal UI)
# ────────────────────────────────────────────────────────────────────────────
rich==13.7.0                  # 现代化终端界面（网格系统、刷量系统、监控系统必需）

# ────────────────────────────────────────────────────────────────────────────
# ⚙️ 配置管理 (Configuration)
# ────────────────────────────────────────────────────────────────────────────
pyyaml==6.0.1                 # YAML 配置文件解析
python-dotenv==1.0.0          # 环境变量管理（可选）

# ────────────────────────────────────────────────────────────────────────────
# 🗄️ 基础设施 (Infrastructure)
# ────────────────────────────────────────────────────────────────────────────
redis==5.0.1                  # Redis 缓存客户端
sqlalchemy==2.0.23            # ORM 框架
alembic==1.13.1               # 数据库迁移工具

# ────────────────────────────────────────────────────────────────────────────
# 🧪 测试框架 (Testing)
# ────────────────────────────────────────────────────────────────────────────
pytest==7.4.3                 # 测试框架
pytest-asyncio==0.21.1        # 异步测试支持
pytest-cov==4.1.0             # 测试覆盖率

# ────────────────────────────────────────────────────────────────────────────
# 🛠️ 开发工具 (Development Tools)
# ────────────────────────────────────────────────────────────────────────────
# 以下为可选的开发工具，可根据需要安装
# black==23.11.0              # 代码格式化
# flake8==6.1.0               # 代码检查
# mypy==1.7.1                 # 静态类型检查
# isort==5.12.0               # 导入排序

# ────────────────────────────────────────────────────────────────────────────
# 📝 说明 (Notes)
# ────────────────────────────────────────────────────────────────────────────
# 1. 安装所有依赖：
#    pip install -r requirements.txt
#    
#    macOS Homebrew Python 用户（如遇到 externally-managed-environment 错误）：
#    pip3 install -r requirements.txt --break-system-packages
#
# 2. 仅安装核心依赖（不含测试工具）：
#    grep -v "pytest" requirements.txt | grep -v "^#" | grep -v "^$" | pip install -r /dev/stdin
#
# 3. Lighter SDK 安装说明：
#    - 需要先安装 git
#    - 安装后可通过 `import lighter` 使用
#
# 4. 版本说明：
#    - Python 版本要求：>= 3.8
#    - 建议使用 Python 3.9 或 3.10 以获得最佳性能
#
# 5. 特殊依赖说明：
#    - eth-account: Hyperliquid 和 Lighter 交易所需要（用于私钥签名）
#    - rich: 所有终端 UI 必需（网格系统、刷量系统、监控系统）
#    - ccxt: 通用交易所库，用于 Binance、OKX、Hyperliquid 等（需要 >= 4.4.x）
#    - hyperliquid-python-sdk: Hyperliquid 官方 SDK（可选，用于原生实现）
#    - httpx: HTTP 客户端（Hyperliquid 原生 WebSocket 需要）
#
# 6. 可选依赖：
#    - redis, sqlalchemy, alembic: 如果不使用数据库功能可以不安装
#    - python-dotenv: 如果使用 YAML 配置可以不安装
